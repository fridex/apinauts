<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="OpenBudget Team">

    <title>OpenBudget</title>

    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="dashboard.css" rel="stylesheet">
    <style type="text/css">
        #categories {
            display: none;
        }

        #budgets {
            display: none;
        }

        .badge a {
            color: #aaaaaa;
        }
    </style>
</head>

<body>
    <div class="modal modal-dialog" role="dialog" id="add-transaction-modal" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h5>New Transaction</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-inline col-form-label">
                        <label for="transaction-value">Value:</label>&nbsp;
                        <input type="value" id="transaction-value" class="form-control" placeholder="Value of transaction">&nbsp;
                        <select class="form-control" id="exampleSelect1">
                            <option>CZK</option>
                            <option>EUR</option>
                            <option>USD</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <hr />
                        <label for="exampleSelect1">Category:</label>
                        <select class="form-control" id="exampleSelect1">
                            <option>Mortgage</option>
                            <option>Travel</option>
                            <option>Car</option>
                            <option>Entertainment</option>
                            <option>Presents</option>
                            <option>Bills</option>
                            <option>Food</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="">Second party:</label>
                        <input type="value" id="2nd-party" class="form-control" placeholder="2nd party">&nbsp;
                        <hr />
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary" data-dismiss="modal" />New Transaction</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <nav class="navbar navbar-toggleable-md navbar-inverse fixed-top bg-inverse">
        <button class="navbar-toggler navbar-toggler-right hidden-lg-up" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault"
            aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <a class="navbar-brand" href="#">
            <span class="alert-link">Open</span>Budget</a>

        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="#">Home
                        <span class="sr-only">(current)</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Settings</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Profile</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Help</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <nav class="col-sm-3 col-md-2 hidden-xs-down bg-faded sidebar">
                <ul class="nav nav-pills flex-column">
                    <li class="nav-item">
                        <a class="nav-link active" href="#" id="transactions-menu">Transactions
                            <span class="sr-only">(current)</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="categories-menu">Categories</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="budgets-menu">Budgets</a>
                    </li>
                </ul>
            </nav>

            <main class="col-sm-9 offset-sm-3 col-md-10 offset-md-2 pt-3">
                <h1 class="section-name">Transactions</h1>

                <div id="transactions">
                    <section class="row text-center placeholders">
                        <div id="pieChart" class="col-sm-12"></div>
                    </section>

                    <div class="row">
                        <div class="col">
                            <h2>Transaction list</h2>
                        </div>

                        <div class="col col-lg-2">
                            <button class="btn btn-info offset-3" data-toggle="modal" data-target="#add-transaction-modal">New Transaction</button>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Title</th>
                                    <th>Category</th>
                                    <th>2nd Party</th>
                                    <th>Amount</th>
                                    <th>Currency</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1,001</td>
                                    <td>Lorem</td>
                                    <td>Lorem</td>
                                    <td>ipsum</td>
                                    <td>dolor</td>
                                    <td>sit</td>
                                </tr>
                                <tr>
                                    <td>1,002</td>
                                    <td>Lorem</td>
                                    <td>amet</td>
                                    <td>consectetur</td>
                                    <td>adipiscing</td>
                                    <td>elit</td>
                                </tr>
                                <tr>
                                    <td>1,003</td>
                                    <td>Lorem</td>
                                    <td>Integer</td>
                                    <td>nec</td>
                                    <td>odio</td>
                                    <td>Praesent</td>
                                </tr>
                                <tr>
                                    <td>1,003</td>
                                    <td>Lorem</td>
                                    <td>libero</td>
                                    <td>Sed</td>
                                    <td>cursus</td>
                                    <td>ante</td>
                                </tr>
                            </tbody>
                        </table>

                    </div>
                </div>

                <div id="budgets">
                    <form>
                        <div class="form-group">
                            <label for="budgetName">Budget name:</label>
                            <input type="text" class="form-control" id="budgetName" placeholder="Enter new budget name here">
                        </div>
                        <div class="form-group">
                            <label for="categoryName">Category:</label>
                            <select class="form-control" id="categoryName">
                                <option>Mortgages</option>
                                <option>Entertainment</option>
                                <option>Food</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="month">Month:</label>
                            <select class="form-control" id="month">
                                <option>October</option>
                                <option>November</option>
                                <option>December</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="value">Value:</label>
                            <div class="input-group">
                                <span class="input-group-addon">CZK</span>
                                <input type="text" class="form-control" aria-label="Amount (to the nearest Czech koruna)">
                                <span class="input-group-addon">.00</span>
                            </div>
                        </div>
                        <hr />
                        <div>
                            <button type="submit" class="btn btn-primary">Create new budget</button>
                        </div>
                    </form>
                    <hr />
                    <div class="list-group">
                        <a href="#" class="list-group-item list-group-item-action flex-column align-items-start">
                            <div class="d-flex w-100 justify-content-between">
                                <h5 class="mb-1">Category: Mortgages</h5>
                            </div>
                            <p class="mb-1">November</p>
                            <small>15.000,00 CZK</small>
                        </a>
                        <a href="#" class="list-group-item list-group-item-action flex-column align-items-start">
                            <div class="d-flex w-100 justify-content-between">
                                <h5 class="mb-1">Category: Bills</h5>
                            </div>
                            <p class="mb-1">November</p>
                            <small>10.000,00 CZK</small>
                        </a>

                    </div>
                </div>

                <div id="categories">
                    <form>
                        <div class="form-group">
                            <label for="categoryName">Category name:</label>
                            <input type="text" class="form-control" id="categoryName" placeholder="Enter new category name here">
                        </div>
                        <div>
                            <button type="submit" class="btn btn-primary">Create new category</button>
                        </div>
                    </form>

                    <hr />

                    <ul class="list-group">
                        <li class="list-group-item justify-content-between">
                            Mortgages
                            <span class="badge badge-default badge-pill">14
                                <a href="#">&times;</a>
                            </span>
                        </li>
                        <li class="list-group-item justify-content-between">
                            Bills
                            <span class="badge badge-default badge-pill">17
                                <a href="#">&times;</a>
                            </span>
                        </li>
                        <li class="list-group-item justify-content-between">
                            Food
                            <span class="badge badge-default badge-pill">73
                                <a href="#">&times;</a>
                            </span>
                        </li>
                        <li class="list-group-item justify-content-between">
                            Entertainment
                            <span class="badge badge-default badge-pill">73
                                <a href="#">&times;</a>
                            </span>
                        </li>
                        <li class="list-group-item justify-content-between">
                            Car
                            <span class="badge badge-default badge-pill">73
                                <a href="#">&times;</a>
                            </span>
                        </li>
                        <li class="list-group-item justify-content-between">
                            Presents
                            <span class="badge badge-default badge-pill">73
                                <a href="#">&times;</a>
                            </span>
                        </li>
                        <li class="list-group-item list-group-item-warning">Default</li>
                    </ul>
                </div>
            </main>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.7.2/d3.min.js"></script>
    <script src="d3pie.min.js"></script>
    <script src="jquery.min.js"></script>
    <script src="tether.min.js"></script>
    <script src="bootstrap.min.js"></script>

    <script>
        var pie = null;

        $('#budgets-menu').click(() => {
            $('#transactions, #categories').hide();
            $('#budgets').show();
            $('.section-name').text('Budgets');
            $('.sidebar .active').removeClass('active');
            $('#budgets-menu').addClass('active');
        });

        $('#categories-menu').click(() => {
            $('#transactions, #budgets').hide();
            $('#categories').show();
            $('.section-name').text('Categories');
            $('.sidebar .active').removeClass('active');
            $('#categories-menu').addClass('active');
            /*
            $.ajax('http://localhost:34000/api/v1/categories').done(() => {
                console.log(this)
            })*/
        });

        $('#transactions-menu').click(() => {
            $('#budgets, #categories').hide();
            $('#transactions').show();
            $('.section-name').text('Transactions');
            $('.sidebar .active').removeClass('active');
            $('#transactions-menu').addClass('active');

            $('#pieChart').children().remove();

            var pie = new d3pie("pieChart", {
                "header": {
                    "title": {
                        "text": "Monthly Budget",
                        "fontSize": 22,
                        "font": "verdana"
                    },
                    "subtitle": {
                        "color": "#999999",
                        "fontSize": 10,
                        "font": "verdana",
                        "text": " "
                    },
                    "titleSubtitlePadding": 32
                },
                "size": {
                    "canvasHeight": 460,
                    "canvasWidth": 750,
                    "pieOuterRadius": "100%"
                },
                "data": {
                    "sortOrder": "random",
                    "content": [{
                            "label": "Mortgage",
                            "value": 12440,
                            "color": "#0066cc"
                        },
                        {
                            "label": "Car",
                            "value": 5670,
                            "color": "#003366"
                        },
                        {
                            "label": "Food",
                            "value": 2456,
                            "color": "#336600"
                        },
                        {
                            "label": "Entertainment",
                            "value": 1298,
                            "color": "#669966"
                        },
                        {
                            "label": "Presents",
                            "value": 890,
                            "color": "#990000"
                        },
                        {
                            "label": "Travel",
                            "value": 460,
                            "color": "#cc6600"
                        },
                        {
                            "label": "Bills",
                            "value": 8910,
                            "color": "#65cc32"
                        },
                        {
                            "label": "Remaining",
                            "value": 3409,
                            "color": "#a9a9a9"
                        }
                    ]
                },
                "labels": {
                    "outer": {
                        "format": "label-percentage2",
                        "pieDistance": 32
                    },
                    "inner": {
                        "format": "value",
                        "hideWhenLessThanPercentage": 15
                    },
                    "mainLabel": {
                        "font": "verdana"
                    },
                    "percentage": {
                        "color": "#e1e1e1",
                        "font": "verdana",
                        "decimalPlaces": 0
                    },
                    "value": {
                        "color": "#e1e1e1",
                        "font": "verdana"
                    },
                    "lines": {
                        "enabled": true,
                        "color": "#cccccc"
                    },
                    "truncation": {
                        "enabled": true
                    }
                },
                "effects": {
                    "pullOutSegmentOnClick": {
                        "effect": "elastic",
                        "speed": 400,
                        "size": 8
                    }
                }
            });

        });

        $(document).ready(() => {
            $('#transactions-menu').click();
        });

    </script>
</body>

</html>